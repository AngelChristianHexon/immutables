


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > AbstractValuesTemplate</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.immutables.value.processor</a>
</div>

<h1>Coverage Summary for Class: AbstractValuesTemplate (org.immutables.value.processor)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">AbstractValuesTemplate</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/20)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/27)
  </span>
</td>
</tr>
  <tr>
    <td class="name">AbstractValuesTemplate$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">AbstractValuesTemplate$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">AbstractValuesTemplate$Flag</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">AbstractValuesTemplate$TrackingSet</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">AbstractValuesTemplate$TrackingSet$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">AbstractValuesTemplate$TrackingSet$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">AbstractValuesTemplate$TrackingSet$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/22)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/22)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/52)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package org.immutables.value.processor;
&nbsp;
&nbsp;import java.lang.annotation.Inherited;
&nbsp;import java.util.HashSet;
&nbsp;import javax.annotation.Nullable;
&nbsp;import com.google.common.base.Function;
&nbsp;import com.google.common.base.Predicate;
&nbsp;import com.google.common.collect.ImmutableList;
&nbsp;import org.immutables.generator.AbstractTemplate;
&nbsp;import org.immutables.generator.ClasspathAvailability;
&nbsp;import org.immutables.generator.Generator;
&nbsp;import org.immutables.generator.Templates;
&nbsp;import org.immutables.value.processor.meta.HasStyleInfo;
&nbsp;import org.immutables.value.processor.meta.LongBits;
&nbsp;import org.immutables.value.processor.meta.ObscureFeatures;
&nbsp;import org.immutables.value.processor.meta.Proto.DeclaringPackage;
&nbsp;import org.immutables.value.processor.meta.StyleInfo;
&nbsp;import org.immutables.value.processor.meta.UnshadeGuava;
&nbsp;import org.immutables.value.processor.meta.ValueAttribute;
&nbsp;import org.immutables.value.processor.meta.ValueType;
&nbsp;
&nbsp;/** Groups typedefs and useful utilities. */
<b class="nc">&nbsp;public abstract class AbstractValuesTemplate extends AbstractTemplate {</b>
&nbsp;  @Generator.Typedef
&nbsp;  protected ValueType Type;
&nbsp;
&nbsp;  @Generator.Typedef
&nbsp;  protected ValueAttribute Attribute;
&nbsp;
&nbsp;  @Generator.Typedef
&nbsp;  protected HasStyleInfo HasStyleInfo;
&nbsp;
&nbsp;  @Generator.Typedef
&nbsp;  protected LongBits.LongPositions LongPositions;
&nbsp;
&nbsp;  @Generator.Typedef
&nbsp;  protected LongBits.BitPosition BitPosition;
&nbsp;
&nbsp;  @Generator.Typedef
&nbsp;  protected DeclaringPackage Package;
&nbsp;
<b class="nc">&nbsp;  protected final ImmutableList&lt;ValueAttribute&gt; noAttributes = ImmutableList.of();</b>
&nbsp;
<b class="nc">&nbsp;  protected final String guava = UnshadeGuava.prefix();</b>
&nbsp;
<b class="nc">&nbsp;  protected final LongBits longsFor = new LongBits();</b>
&nbsp;
<b class="nc">&nbsp;  protected final Function&lt;Object, String&gt; asDiamond = new Function&lt;Object, String&gt;() {</b>
&nbsp;    @Override
&nbsp;    public String apply(Object input) {
<b class="nc">&nbsp;      return ObscureFeatures.noDiamonds() ? (&quot;&lt;&quot; + input + &quot;&gt;&quot;) : &quot;&lt;&gt;&quot;;</b>
&nbsp;    }
&nbsp;  };
&nbsp;
&nbsp;  private @Nullable String jaxartaPackage;
&nbsp;
&nbsp;  protected final void setJaxarta(String jaxartaPackage) {
<b class="nc">&nbsp;    this.jaxartaPackage = jaxartaPackage;</b>
&nbsp;  }
&nbsp;
&nbsp;  public final String jaxarta() {
<b class="nc">&nbsp;    return jaxartaPackage != null ? jaxartaPackage : inferJaxarta() ? &quot;jakarta&quot; : &quot;javax&quot;;</b>
&nbsp;  }
&nbsp;
&nbsp;  protected boolean inferJaxarta() {
<b class="nc">&nbsp;    return classpath.available.apply(JAKARTA_NULLABLE);</b>
&nbsp;  }
&nbsp;
&nbsp;  // Same as in .meta.Annotations.JAKARTA_NULLABLE
&nbsp;  private static final String JAKARTA_NULLABLE = &quot;jakarta.annotation.Nullable&quot;;
&nbsp;
<b class="nc">&nbsp;  protected final Function&lt;Object, String&gt; docEscaped = new Function&lt;Object, String&gt;() {</b>
&nbsp;    @Override
&nbsp;    public String apply(Object input) {
<b class="nc">&nbsp;      return input.toString()</b>
<b class="nc">&nbsp;          .replace(&quot;&lt;&quot;, &quot;&amp;lt;&quot;)</b>
<b class="nc">&nbsp;          .replace(&quot;&gt;&quot;, &quot;&amp;gt;&quot;)</b>
<b class="nc">&nbsp;          .replace(&quot;&amp;&quot;, &quot;&amp;amp;&quot;)</b>
<b class="nc">&nbsp;          .replace(&quot;java.lang.&quot;, &quot;&quot;)</b>
<b class="nc">&nbsp;          .replace(&quot;java.util.&quot;, &quot;&quot;);</b>
&nbsp;    }
&nbsp;  };
&nbsp;
<b class="nc">&nbsp;  protected final Templates.Binary&lt;HasStyleInfo, String, Boolean&gt; allowsClasspathAnnotation =</b>
&nbsp;      (hasStyle, annotationClass) -&gt; {
<b class="nc">&nbsp;        StyleInfo style = hasStyle.style();</b>
<b class="nc">&nbsp;        setJaxartaFrom(style);</b>
&nbsp;
<b class="nc">&nbsp;        if (annotationClass.startsWith(CLASSNAME_TAG_JAXARTA)) {</b>
<b class="nc">&nbsp;          annotationClass = annotationClass.replace(CLASSNAME_TAG_JAXARTA, jaxarta());</b>
&nbsp;        }
<b class="nc">&nbsp;        return (style.allowedClasspathAnnotationsNames().isEmpty()</b>
<b class="nc">&nbsp;            || style.allowedClasspathAnnotationsNames().contains(annotationClass))</b>
<b class="nc">&nbsp;            &amp;&amp; classpath.available.apply(annotationClass);</b>
&nbsp;      };
&nbsp;
&nbsp;  private void setJaxartaFrom(StyleInfo style) {
&nbsp;    // setup jakarta context for subsequent calls for jaxarta()
&nbsp;    // regardless if it&#39;s relevant for this call
<b class="nc">&nbsp;    jaxartaPackage = style.jakarta() ? &quot;jakarta&quot; : &quot;javax&quot;;</b>
&nbsp;  }
&nbsp;
<b class="nc">&nbsp;  protected final Function&lt;HasStyleInfo, String&gt; atFallbackNullable =</b>
&nbsp;      input -&gt; {
<b class="nc">&nbsp;        String annotation = input.style().fallbackNullableAnnotationName();</b>
<b class="nc">&nbsp;        if (annotation.equals(Inherited.class.getCanonicalName())) {</b>
<b class="nc">&nbsp;          setJaxartaFrom(input.style());</b>
&nbsp;
<b class="nc">&nbsp;          String defaultNullable = jaxarta() +&quot;.annotation.Nullable&quot;;</b>
<b class="nc">&nbsp;          annotation = allowsClasspathAnnotation.apply(input, defaultNullable) ? defaultNullable : &quot;&quot;;</b>
&nbsp;        }
<b class="nc">&nbsp;        return !annotation.isEmpty() ? &quot;@&quot; + annotation + &quot; &quot; : &quot;&quot;;</b>
&nbsp;      };
&nbsp;
<b class="nc">&nbsp;  protected final Flag flag = new Flag();</b>
&nbsp;
<b class="nc">&nbsp;  protected static class Flag {</b>
&nbsp;    public boolean is;
&nbsp;
&nbsp;    public String set() {
<b class="nc">&nbsp;      this.is = true;</b>
<b class="nc">&nbsp;      return &quot;&quot;;</b>
&nbsp;    }
&nbsp;
&nbsp;    public String clear() {
<b class="nc">&nbsp;      this.is = false;</b>
<b class="nc">&nbsp;      return &quot;&quot;;</b>
&nbsp;    }
&nbsp;  }
&nbsp;
&nbsp;  public TrackingSet newTrackingSet() {
<b class="nc">&nbsp;    return new TrackingSet();</b>
&nbsp;  }
&nbsp;
<b class="nc">&nbsp;  public static class TrackingSet {</b>
<b class="nc">&nbsp;    private final HashSet&lt;Object&gt; set = new HashSet&lt;&gt;();</b>
<b class="nc">&nbsp;    public final Predicate&lt;Object&gt; add = new Predicate&lt;Object&gt;() {</b>
&nbsp;      @Override public boolean apply(@Nullable Object input) {
<b class="nc">&nbsp;        return set.add(input);</b>
&nbsp;      }
&nbsp;    };
<b class="nc">&nbsp;    public final Predicate&lt;Object&gt; includes = new Predicate&lt;Object&gt;() {</b>
&nbsp;      @Override public boolean apply(@Nullable Object input) {
<b class="nc">&nbsp;        return set.contains(input);</b>
&nbsp;      }
&nbsp;    };
<b class="nc">&nbsp;    public final Predicate&lt;Object&gt; excludes = new Predicate&lt;Object&gt;() {</b>
&nbsp;      @Override public boolean apply(@Nullable Object input) {
<b class="nc">&nbsp;        return !set.contains(input);</b>
&nbsp;      }
&nbsp;    };
&nbsp;  }
&nbsp;  // this particular style mimics template syntax, but is handled separately
&nbsp;  protected static final String CLASSNAME_TAG_JAXARTA = &quot;[jaxarta]&quot;;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-11-04 15:34</div>
</div>
</body>
</html>
